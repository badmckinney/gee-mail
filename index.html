<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
				// reference variable to keep track of number of messages in the inbox
				let count = 0;

				// Loops ten times, creating a DOM element each time 
				// populates data from each object in geemails array
				// appends each element to DOM
				for (var i = 0; i < geemails.length; i += 1) {
					let message = document.createElement('div');
					message.className = "message";
					let messageContent = `
						<div class="message__content">
							<div class="date">
								<p>${geemails[i].date.toLocaleDateString()}</p>
							</div>
							<div class="sender">
								<p>${geemails[i].sender}</p>
							</div>
							<div class="subject">
								<p>Subj: ${geemails[i].subject}</p>
							</div>
						</div>
					`
					message.innerHTML = messageContent;
					// message to reference message body in proper object
					message.id = i;
					document.querySelector('.messages').appendChild(message);
					count += 1;
				}

				setInterval(() => {
					// create seed data for new message
					let data = getNewMessage();
					// push to geemails array for later reference
					geemails.push(data);
					let message = document.createElement('div');
					message.className = "message";
					let messageContent = `
						<div class="message__content">
							<div class="date">
								<p>${geemails[count].date.toLocaleDateString()}</p>
							</div>
							<div class="sender">
								<p>${geemails[count].sender}</p>
							</div>
							<div class="subject">
								<p>Subj: ${geemails[count].subject}</p>
							</div>
						</div>
					`
					message.innerHTML = messageContent;
					// message to reference message body in proper object
					message.id = count;
					document.querySelector('.messages').appendChild(message);
					count += 1;
					document.querySelector('.count').textContent = count;
				}, 15000);



      };
    </script>
	</head>
	<body>
		<div class="container" id="main">
			<div class=top-header>
				<img src="resources/img/gee-mail.png" alt="gee-mail logo" class="logo">
				<p class="logo__type">Gee-mail</p>
			</div>
			<div class="inbox">
				<div class="inbox__sidebar">
					<div class="inbox__sidebar__counter">
						<img src="resources/img/inbox.png" alt="inbox icon" class="icon">
						<h2 class="counter__header">Inbox</h2>
						<p class="count">10</p>
					</div>
				</div>
				<div class="inbox__main">
						<div class="inbox__header">
								<div class="primary">
									<img src="resources/img/inbox.png" alt="inbox icon" class="icon">
									<h2>Primary</h2>
								</div>
						</div>
						<div class="messages">
							<!-- messages here -->
							<!-- <div class="message">
								< <div class="message__content">
										<p class="date">9/17/2016</p>
										<p class="sender">Brad McKinney</p>
										<p class="subject">Cheap online meds</p>
								</div> 
							</div> -->
						</div>
				</div>
			</div>
		</div>
	</body>
</html>